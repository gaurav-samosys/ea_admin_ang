

<div id="dashboard-companies" class="page-layout simple right-sidebar" fxLayout="row" style="margin-left: 10px;">


    <!-- CENTER -->
    <div class="center" fusePerfectScrollbar>
<div class="mb-24" fxLayout="column" fxLayoutAlign="start" fxLayout.gt-md="row">
          <div class="mat-card mat-elevation-z4 p-24 mr-24" fxLayout="column" fxLayoutAlign="start"
                  fxFlex="1 0 auto">
                    <div fxLayout="row" fxLayoutAlign="end end" fxFlex="1 0 auto">

 <button mat-stroked-button color="primary" (click)="addUser()"><mat-icon>add_circle_outline</mat-icon>Add User</button> 

</div>

                  <mat-label style="margin-top: -10px">Manage User</mat-label>
                              <mat-toolbar style="margin-top: 25px;">
                        <span>User Search</span>
                        <span class="fill-remaining-space"></span>
                                </mat-toolbar>
                                <br>

                          <mat-label style="width: 14%;margin-bottom: -22px;" required>Full Name : </mat-label>  <mat-label style="margin-bottom: 10px; width: 14%;    margin-left: 448px;">Email : </mat-label>
                    <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
                          
                   <mat-form-field appearance="outline" fxFlex="50" class="pr-4">
                          <input matInput placeholder="Search full name" (keyup)="Search($event.target.value,'fullname')">
                    </mat-form-field>

                       <mat-form-field appearance="outline" fxFlex="50" class="pr-4">
                          <input matInput placeholder="Search email" (keyup)="Search($event.target.value,'email')">
                    </mat-form-field>

                </div>
                        <mat-label style="width: 14%;margin-bottom: -22px;">Client Name :</mat-label>
                         <mat-label style="margin-bottom: 10px; width: 14%;    margin-left: 448px;">Company Name : </mat-label>
                  <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">

                   <mat-form-field appearance="outline" fxFlex="50" class="pr-4">
                          <input matInput placeholder="Search client name" (keyup)="Search($event.target.value,'clientname')">
                    </mat-form-field>

                          
                   <mat-form-field appearance="outline" fxFlex="50" class="pr-4">
                          <input matInput placeholder="Search company name" (keyup)="Search($event.target.value,'companyname')">
                    </mat-form-field>

                </div>
                <br>

                      <mat-label style="width: 14%;margin-bottom: -22px;">Country :</mat-label>
                         <mat-label style="margin-bottom: 10px; width: 14%;    margin-left: 448px;">State:</mat-label>
                  <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">

                   

                  

                         <mat-form-field appearance="outline" fxFlex="50" class="pr-4">
                        <select matNativeControl   (change)="getState($event.target.value,'country')" >
                            <option selected=""  value=""  >
                               Select country
                            </option>
                             <option *ngFor="let data of country" value="{{data.id}}" >
                                {{data.name}}
                            </option>
                            
                        </select>
                    </mat-form-field>


                      <mat-form-field appearance="outline" fxFlex="50" class="pr-4">
                        <select matNativeControl  (change)="Search($event.target.value,'state')" >
                            <option selected=""  value=""  >
                               Select state
                            </option>
                             <option *ngFor="let data of states"  value="{{data.id}}" >
                               {{data.state_name}}
                            </option>
                            
                        </select>
                    </mat-form-field>
                </div>
                <br>


                      <mat-label style="width: 14%;margin-bottom: -22px;">City :</mat-label>
                         <mat-label style="margin-bottom: 10px; width: 14%;    margin-left: 448px;">Status :</mat-label>
                  <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">

                   

                  

                         <mat-form-field appearance="outline" fxFlex="50" class="pr-4">
                            <input matInput placeholder="Search city" (keyup)="Search($event.target.value,'city')">
                    </mat-form-field>


                 <mat-form-field appearance="outline" fxFlex="50" class="pr-4">
                        <select matNativeControl   (change)="Search($event.target.value,'status')" >
                            <option selected="" value=""  >
                                 Select status
                            </option>
                             <option value="Active" >
                               Active
                            </option>
                            <option value="Inactive" >
                               Inactive
                            </option>
                        </select>
                    </mat-form-field>
                </div>
                <br>

                     <mat-label style="width: 14%;">Access Code : </mat-label>
                  <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">

                   

                  

                        <mat-form-field appearance="outline" fxFlex="50" class="pr-4">
                          <input matInput placeholder="Search Access Code" (keyup)="Search($event.target.value,'access_code')">
                    </mat-form-field>

                </div>
                <br>


                      <mat-label style="width: 14%;margin-bottom: -22px;">Start Date :</mat-label>
                         <mat-label style="margin-bottom: 10px; width: 14%;    margin-left: 223px;">End Date : </mat-label>
                  <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">

                   

                  

                        <mat-form-field appearance="outline" fxFlex="25" class="pr-4">
                               <input matInput [matDatepicker] = "picker" placeholder = "Start date" [ngModel]="startDate" (ngModelChange)="MyDate($event,'start')">
                               <mat-datepicker-toggle matSuffix [for] = "picker"></mat-datepicker-toggle>
                               <mat-datepicker #picker></mat-datepicker>
                          </mat-form-field>

                <mat-form-field appearance="outline" fxFlex="25" class="pr-4">
                               <input matInput [matDatepicker] = "picker1" placeholder = "End date" [ngModel]="endDate" (ngModelChange)="MyDate($event,'end')">
                               <mat-datepicker-toggle matSuffix [for] = "picker1"></mat-datepicker-toggle>
                               <mat-datepicker #picker1></mat-datepicker>
                          </mat-form-field>
                </div>
                <br>

                     <mat-divider></mat-divider>
                     <br>

                      <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
                    <mat-label >Show</mat-label>
                    <mat-form-field  appearance="outline" fxFlex="10">
  <select matNativeControl  (change)="changelimit($event.target.value)">
    <option value="10">10</option>
    <option value="25">25</option>
    <option value="50">50</option>
    <option value="100">100</option>
  </select>
</mat-form-field>
<mat-label >entries</mat-label>

                </div>

      <!-- CONTENT -->
        <div class="content">
          <div class="p10">
            
            <div class="mat-elevation-z8">
              <table mat-table [dataSource]="dataSource">

                <!-- Name Column -->
                <ng-container matColumnDef="first_name">
                  <th mat-header-cell *matHeaderCellDef> Full Name </th>
                  <td class="style" mat-cell *matCellDef="let element" (click)="openDialog(element)"> {{element.first_name}} {{element.last_name}} </td>
                </ng-container>

                <!-- Weight Column -->
                <ng-container matColumnDef="company_name">
                  <th mat-header-cell *matHeaderCellDef> Company Name </th>
                  <td mat-cell *matCellDef="let element"> {{element.company_name}} </td>
                </ng-container>

                <!-- Symbol Column -->
                <ng-container matColumnDef="client_name">
                  <th mat-header-cell *matHeaderCellDef> Client Name </th>
                  <td mat-cell *matCellDef="let element"> {{element.client_name}} </td>
                </ng-container>

                <ng-container matColumnDef="created_on">
                  <th mat-header-cell *matHeaderCellDef> Sign Up </th>
                  <td mat-cell *matCellDef="let element"> {{element.created_on}} </td>
                </ng-container>

                <ng-container matColumnDef="certificate_downloaded">
                  <th mat-header-cell *matHeaderCellDef> Course Progress </th>
                  <td mat-cell *matCellDef="let element"> <span *ngIf="element.certificate_downloaded == 0">Certification Pending</span> <span *ngIf="element.certificate_downloaded != 0">Certification Download</span> </td>
                </ng-container>

                <ng-container matColumnDef="status">
                  <th mat-header-cell *matHeaderCellDef> Status </th>
                    <td mat-cell *matCellDef="let element"> <ui-switch [checked]="element.status == 'Active' ? true : false" (change)="onChange($event,element.id)"></ui-switch></td>
                </ng-container>

                 <ng-container matColumnDef="action">
                  <th mat-header-cell *matHeaderCellDef>Action</th>
                 <td mat-cell *matCellDef="let element">
                      <button mat-icon-button>
                        <mat-icon matTooltip="Edit" (click)="editDialog(element)">edit</mat-icon>
                      </button>
              <button mat-icon-button>

                        <mat-icon matTooltip="Delete" (click)="confirmDialog(element.id)">delete</mat-icon> 
                      </button>
                      </td>
                  </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
              </table>

             <!--  <mat-paginator  [pageSizeOptions]="[10, 25, 50,100]" showFirstLastButtons></mat-paginator> -->
            <div>Showing {{start}} to {{end}} of {{allItems}} entries</div> 
              <div>
    <div class="container">
        <div class="text-center">

            <!-- pager -->
            <ul *ngIf="pager.pages && pager.pages.length" class="pagination inline_list">
                <li [ngClass]="{disabled:pager.currentPage === 1}">
                    <a (click)="setPage(1)">First</a>
                </li>
                <li [ngClass]="{disabled:pager.currentPage === 1}">
                    <a (click)="setPage(pager.currentPage - 1)">Previous</a>
                </li>
                <li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}">
                    <a (click)="setPage(page)">{{page}}</a>
                </li>
                <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
                    <a (click)="setPage(pager.currentPage + 1)">Next</a>
                </li>
                <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
                    <a (click)="setPage(pager.totalPages)">Last</a>
                </li>
            </ul>
        </div>
    </div>
</div>

            </div>
          </div>


        </div>
        <!-- / CONTENT -->
  

</div>
</div>



<style type="text/css">
    .inline_list{list-style-type: none;}
    .inline_list li{display: inline-block;}
    .inline_list li a{    position: relative;
    float: left;padding: 6px 12px; margin-left: -1px; line-height: 1.42857143; color: #337ab7; text-decoration: none; background-color: #fff; border: 1px solid #ddd;} 
</style>